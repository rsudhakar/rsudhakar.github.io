<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Sudhakar's Blog</title>
    <meta name="viewport" content="width=device-width">
    <link rel="icon" href="/images/favicon.ico" type="image/x-icon" />

    <link rel="stylesheet" href="/main.css">

    <script src="/scripts/jquery-1.10.2.js"></script>
    <script src="/scripts/underscore-min.js"></script>
    <script src="/scripts/default.js"></script>
</head>

<body class="">

    <div class="side-panel">
    <div class="matter">
        <div class="control" onclick="SidePanel.toggle()">
            <i class="icon-left-circle"></i>
        </div>
        <div class="name">
            <span class="first">Sudhakar</span>
            <span class="last">Rayavaram</span>        
        </div>
        <div class="categories">
            <a class="icon icon-programming" href="/#programming"><span>Programmer</span></a>
            <a class="icon icon-cartoon" href="/#cartoon"><span>Cartoonist</span></a>
            <a class="icon icon-visualization" href="/#visualization"><span>Visualizer</span></a>
            <a class="icon icon-social" href="/#social"><span>Social</span></a>
            <a class="icon icon-diy" href="/#diy"><span>DIY</span></a>
        </div>
    </div>
</div>  

    <div class="post-container">
    <div class="content">
        <div class="post_heading">
            <div class="date">02 Nov 2008</div>
            <div class="title_section">Is it a rectangle?</div>
        </div>
        <div class="post">
            <p>Couple of days back when I was travelling back to home from office, I overheard two fellow employees discussing over a programming problem…
“If four points in a 2D plane (x,y) is given, how to find whether it forms a rectangle or not?”.
Question sounds simple right? Well, how would you program this solution? what will be the algorithm? Just give it a shot.</p>

<p>Check out my implementation below… It did not look this small and simple when I started solving it.
Tried calculating angles between edges, tried equating edge lengths, tried rotating the skewed rectangles (special case),
tried getting B.Sc. Maths degree first… But, all of these are not really needed for the solution…
It is enough if you calculate the centroid and make sure all the 4 points are equi-distant from the centroid.
Well, square also satisfies this logic and <a href="http://en.wikipedia.org/wiki/Rectangle">square is also a rectangle</a> :)</p>

<p>I guess it is always hard to come up with a simple solution… You have to put lot of effort to think simple!</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="lineno"> 1</span>   <span class="kd">public</span> <span class="kd">class</span> <span class="nc">RectangleValidator</span> <span class="o">{</span>
<span class="lineno"> 2</span> 
<span class="lineno"> 3</span>      <span class="kd">public</span> <span class="kd">static</span> <span class="kt">boolean</span> <span class="nf">validate</span><span class="o">(</span><span class="n">Point</span> <span class="n">p1</span><span class="o">,</span> <span class="n">Point</span> <span class="n">p2</span><span class="o">,</span> <span class="n">Point</span> <span class="n">p3</span><span class="o">,</span> <span class="n">Point</span> <span class="n">p4</span><span class="o">)</span> <span class="o">{</span>
<span class="lineno"> 4</span>          <span class="c1">// Find the centroid using Euclid&#39;s geometric principle</span>
<span class="lineno"> 5</span>          <span class="n">Point</span> <span class="n">centroid</span> <span class="o">=</span> <span class="k">new</span> <span class="nf">Point</span><span class="o">();</span>
<span class="lineno"> 6</span>          <span class="n">centroid</span><span class="o">.</span><span class="na">x</span> <span class="o">=</span> <span class="o">(</span><span class="n">p1</span><span class="o">.</span><span class="na">x</span> <span class="o">+</span> <span class="n">p2</span><span class="o">.</span><span class="na">x</span> <span class="o">+</span> <span class="n">p3</span><span class="o">.</span><span class="na">x</span> <span class="o">+</span> <span class="n">p4</span><span class="o">.</span><span class="na">x</span><span class="o">)</span> <span class="o">/</span> <span class="mi">4</span><span class="o">;</span>
<span class="lineno"> 7</span>          <span class="n">centroid</span><span class="o">.</span><span class="na">y</span> <span class="o">=</span> <span class="o">(</span><span class="n">p1</span><span class="o">.</span><span class="na">y</span> <span class="o">+</span> <span class="n">p2</span><span class="o">.</span><span class="na">y</span> <span class="o">+</span> <span class="n">p3</span><span class="o">.</span><span class="na">y</span> <span class="o">+</span> <span class="n">p4</span><span class="o">.</span><span class="na">y</span><span class="o">)</span> <span class="o">/</span> <span class="mi">4</span><span class="o">;</span>
<span class="lineno"> 8</span> 
<span class="lineno"> 9</span>          <span class="c1">// Now check if the centroid is equi-distant from all the corners</span>
<span class="lineno">10</span>          <span class="kt">double</span> <span class="n">dist1</span> <span class="o">=</span> <span class="n">getLength</span><span class="o">(</span><span class="n">p1</span><span class="o">,</span> <span class="n">centroid</span><span class="o">);</span>
<span class="lineno">11</span>          <span class="kt">double</span> <span class="n">dist2</span> <span class="o">=</span> <span class="n">getLength</span><span class="o">(</span><span class="n">p2</span><span class="o">,</span> <span class="n">centroid</span><span class="o">);</span>
<span class="lineno">12</span>          <span class="kt">double</span> <span class="n">dist3</span> <span class="o">=</span> <span class="n">getLength</span><span class="o">(</span><span class="n">p3</span><span class="o">,</span> <span class="n">centroid</span><span class="o">);</span>
<span class="lineno">13</span>          <span class="kt">double</span> <span class="n">dist4</span> <span class="o">=</span> <span class="n">getLength</span><span class="o">(</span><span class="n">p4</span><span class="o">,</span> <span class="n">centroid</span><span class="o">);</span>
<span class="lineno">14</span>          <span class="k">return</span> <span class="o">(</span><span class="n">dist1</span> <span class="o">==</span> <span class="n">dist2</span> <span class="o">&amp;&amp;</span> <span class="n">dist2</span> <span class="o">==</span> <span class="n">dist3</span> <span class="o">&amp;&amp;</span> <span class="n">dist3</span> <span class="o">==</span> <span class="n">dist4</span> <span class="o">&amp;&amp;</span> <span class="n">dist4</span> <span class="o">==</span> <span class="n">dist1</span><span class="o">);</span>
<span class="lineno">15</span>      <span class="o">}</span>
<span class="lineno">16</span> 
<span class="lineno">17</span>      <span class="kd">private</span> <span class="kd">static</span> <span class="kt">double</span> <span class="nf">getLength</span><span class="o">(</span><span class="n">Point</span> <span class="n">p1</span><span class="o">,</span> <span class="n">Point</span> <span class="n">p2</span><span class="o">)</span> <span class="o">{</span>
<span class="lineno">18</span>          <span class="c1">// Using pythogoras theorem</span>
<span class="lineno">19</span>          <span class="kt">double</span> <span class="n">xDiff</span> <span class="o">=</span> <span class="n">Math</span><span class="o">.</span><span class="na">abs</span><span class="o">(</span><span class="n">p1</span><span class="o">.</span><span class="na">x</span> <span class="o">-</span> <span class="n">p2</span><span class="o">.</span><span class="na">x</span><span class="o">);</span>
<span class="lineno">20</span>          <span class="kt">double</span> <span class="n">yDiff</span> <span class="o">=</span> <span class="n">Math</span><span class="o">.</span><span class="na">abs</span><span class="o">(</span><span class="n">p1</span><span class="o">.</span><span class="na">y</span> <span class="o">-</span> <span class="n">p2</span><span class="o">.</span><span class="na">y</span><span class="o">);</span>
<span class="lineno">21</span>          <span class="k">return</span> <span class="n">Math</span><span class="o">.</span><span class="na">sqrt</span><span class="o">((</span><span class="n">xDiff</span> <span class="o">*</span> <span class="n">xDiff</span><span class="o">)</span> <span class="o">+</span> <span class="o">(</span><span class="n">yDiff</span> <span class="o">*</span> <span class="n">yDiff</span><span class="o">));</span>
<span class="lineno">22</span>      <span class="o">}</span>
<span class="lineno">23</span> 
<span class="lineno">24</span>      <span class="kd">public</span> <span class="kd">static</span> <span class="kd">class</span> <span class="nc">Point</span> <span class="o">{</span>
<span class="lineno">25</span>          <span class="n">Point</span><span class="o">()</span> <span class="o">{</span>
<span class="lineno">26</span>          <span class="o">}</span>
<span class="lineno">27</span> 
<span class="lineno">28</span>          <span class="n">Point</span><span class="o">(</span><span class="kt">double</span> <span class="n">x</span><span class="o">,</span> <span class="kt">double</span> <span class="n">y</span><span class="o">)</span> <span class="o">{</span>
<span class="lineno">29</span>              <span class="k">this</span><span class="o">.</span><span class="na">x</span> <span class="o">=</span> <span class="n">x</span><span class="o">;</span>
<span class="lineno">30</span>              <span class="k">this</span><span class="o">.</span><span class="na">y</span> <span class="o">=</span> <span class="n">y</span><span class="o">;</span>
<span class="lineno">31</span>          <span class="o">}</span>
<span class="lineno">32</span> 
<span class="lineno">33</span>          <span class="kt">double</span> <span class="n">x</span><span class="o">;</span>
<span class="lineno">34</span>          <span class="kt">double</span> <span class="n">y</span><span class="o">;</span>
<span class="lineno">35</span>      <span class="o">}</span>
<span class="lineno">36</span> 
<span class="lineno">37</span>   <span class="o">}</span></code></pre></figure>

        </div>
    </div>
</div>

<script type="text/javascript">
    Post.init();
</script>

    
    <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-26664903-1', 'auto');
        ga('send', 'pageview');
    </script>
</body>

</html>